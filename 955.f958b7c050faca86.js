"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[955],{3955:(q,b,s)=>{s.r(b),s.d(b,{SubjectModule:()=>E});var T=s(9853),m=s(9653),Z=s(1665),v=s(4004),S=s(5861),l=s(3036),c=s(4006),t=s(4650),u=s(6895),d=s(9549),x=s(4144),f=s(4859),A=s(1572),a=s(5412);function C(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"Save"),t.qZA())}function y(o,r){1&o&&t._UZ(0,"mat-progress-spinner",8),2&o&&t.Q6J("diameter",24)("mode","indeterminate")}let g=(()=>{class o{constructor(e,n){this._store=e,this._formBuilder=n,this.subjectForm=this._formBuilder.group({code:["",c.kI.required],title:["",c.kI.required]})}ngOnInit(){}save(){var e=this;return(0,S.Z)(function*(){if(e.subjectForm.invalid)return;e.subjectForm.disable();const n={...e.subjectForm.value};e._store.dispatch(l.S.SUBJECT.ADD({subject:n})),e.subjectForm.enable()})()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.yh),t.Y36(c.j3))},o.\u0275cmp=t.Xpm({type:o,selectors:[["subject-add"]],decls:22,vars:3,consts:[["mat-dialog-title",""],[1,"grid","grid-cols-1","md:grid-cols-2","gap-x-5",3,"formGroup"],["placeholder","ICT101","matInput","","formControlName","code"],["matInput","","formControlName","title"],["id","close","mat-button","","mat-dialog-close","",1,"ml-auto"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(e,n){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Add Subject"),t.qZA(),t.TgZ(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field")(5,"mat-label"),t._uU(6,"Subject Code"),t.qZA(),t._UZ(7,"input",2),t.TgZ(8,"mat-error"),t._uU(9,"Subject Code is required."),t.qZA()(),t.TgZ(10,"mat-form-field")(11,"mat-label"),t._uU(12,"Subject Title"),t.qZA(),t._UZ(13,"input",3),t.TgZ(14,"mat-error"),t._uU(15,"Subject Title is required."),t.qZA()()()(),t.TgZ(16,"mat-dialog-actions")(17,"button",4),t._uU(18," Cancel "),t.qZA(),t.TgZ(19,"button",5),t.NdJ("click",function(){return n.save()}),t.YNc(20,C,2,0,"span",6),t.YNc(21,y,1,2,"mat-progress-spinner",7),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.subjectForm),t.xp6(17),t.Q6J("ngIf",!n.subjectForm.disabled),t.xp6(1),t.Q6J("ngIf",n.subjectForm.disabled))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,u.O5,c.sg,c.u,d.TO,d.KE,d.hX,x.Nt,f.lW,A.Ou,a.ZT,a.uh,a.xY,a.H8]}),o})();var U=s(2235),F=s(7392),p=s(8255);function I(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,L=t.oxw();return t.KtG(L.remove(i))}),t._uU(1," Remove "),t.qZA()}}function J(o,r){if(1&o&&(t.TgZ(0,"tr",5)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",6)(6,"div",7)(7,"button",8),t._UZ(8,"mat-icon",9),t.qZA(),t.TgZ(9,"mat-menu",10,11),t.YNc(11,I,2,0,"button",12),t.qZA()()()()),2&o){const e=r.$implicit,n=t.MAs(10),i=t.oxw();t.xp6(2),t.Oqu(e.code),t.xp6(2),t.Oqu(e.title),t.xp6(3),t.Q6J("matMenuTriggerFor",n),t.xp6(2),t.Q6J("xPosition","before"),t.xp6(2),t.Q6J("ngIf",i.isAdmin)}}let j=(()=>{class o{constructor(e){this._store=e,this.subjects=[],this.isAdmin="null"!==localStorage.getItem("accessToken")}ngOnInit(){}remove(e){this._store.dispatch(l.S.SUBJECT.REMOVE({id:e.id}))}trackByFn(e,n){return n.id||e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["subject-list"]],inputs:{subjects:"subjects"},decls:12,vars:2,consts:[[1,"flex","flex-col","flex-auto","p-3","-mt-3","overflow-hidden","bg-card","md:px-10"],[1,"flex","flex-col","flex-auto","overflow-x-auto","overflow-y-auto","border-t","border-t-gray-200"],[1,"overflow-y-visible","min-w-240"],[1,"text-left"],["class","text-center border-t h-[45px] border-gray-100 hover:bg-gray-50",4,"ngFor","ngForTrackBy","ngForOf"],[1,"text-center","border-t","h-[45px]","border-gray-100","hover:bg-gray-50"],[1,"text-center","rounded-r-2xl"],[1,"flex"],[1,"flex","items-center","mx-auto","hover:underline",3,"matMenuTriggerFor"],["svgIcon","feather:more-horizontal",1,"ml-3"],[3,"xPosition"],["tableMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),t._uU(6,"Code"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Subject"),t.qZA(),t._UZ(9,"th"),t.qZA()(),t.TgZ(10,"tbody"),t.YNc(11,J,12,5,"tr",4),t.qZA()()()()),2&e&&(t.xp6(11),t.Q6J("ngForTrackBy",n.trackByFn)("ngForOf",n.subjects))},dependencies:[u.sg,u.O5,F.Hw,p.VK,p.OP,p.p6]}),o})();function O(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.add())}),t._uU(1," Add Subject "),t.qZA()}}function B(o,r){if(1&o&&(t.ynx(0),t._UZ(1,"subject-list",7),t.BQk()),2&o){const e=r.ngIf;t.xp6(1),t.Q6J("subjects",e)}}let h=(()=>{class o{constructor(e,n){this._matDialog=e,this._store=n,this.isAdmin="null"!==localStorage.getItem("accessToken"),this.subjects$=this._store.pipe((0,m.Ys)(Z.f.SUBJECT),(0,v.U)(i=>new T.l(i).toArray()))}ngOnInit(){this._store.dispatch(l.S.SUBJECT.LOAD())}add(){this._matDialog.open(g,{panelClass:["w-1/2","drop-shadow-sm","rounded-none"]})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.uw),t.Y36(m.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["subject"]],decls:7,vars:4,consts:[[1,"w-full"],["title","Subjects","subtitle","Register all the subjects here so that faculty can use it","icon","mat_outline:book"],[1,"flex","items-center","py-2","bg-white","border-b"],[1,"ml-auto"],["class","mr-3 text-white bg-isat-blue","mat-button","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-button","",1,"mr-3","text-white","bg-isat-blue",3,"click"],[3,"subjects"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-header",1),t.TgZ(2,"div",2)(3,"div",3),t.YNc(4,O,2,0,"button",4),t.qZA()(),t.YNc(5,B,2,1,"ng-container",5),t.ALo(6,"async"),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.isAdmin),t.xp6(1),t.Q6J("ngIf",t.lcZ(6,2,n.subjects$)))},dependencies:[U.P,u.O5,f.lW,j,u.Ov]}),o})();var Y=s(2671),N=s(6806);const Q=[Y.m,N.Bz.forChild([{path:"",component:h}])];let E=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[Q]}),o})()}}]);
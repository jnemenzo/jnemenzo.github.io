"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[940],{940:(K,h,a)=>{a.r(h),a.d(h,{ResearchModule:()=>w});var y=a(5861),i=a(4006),m=a(9653),d=a(3036),p=(()=>{return(t=p||(p={})).ONGOING="ongoing",t.COMPLETED="completed",t.PUBLISHED="published",p;var t})(),Z=a(1665),A=a(4004),U=a(5698),T=a(9853),e=a(4650),c=a(6895),f=a(9549),F=a(4144),I=a(4385),O=a(3238),v=a(4859),L=a(1572),u=a(5412),x=a(741);function q(t,o){if(1&t&&(e.TgZ(0,"mat-option",13),e._uU(1),e.ALo(2,"to_full_name"),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n.id),e.xp6(1),e.Oqu(e.lcZ(2,2,n))}}function b(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-form-field")(2,"mat-label"),e._uU(3,"Faculties Involved"),e.qZA(),e.TgZ(4,"mat-select",12),e.YNc(5,q,3,4,"mat-option",5),e.qZA(),e.TgZ(6,"mat-error"),e._uU(7,"Faculties are required."),e.qZA()(),e.BQk()),2&t){const n=o.ngIf;e.xp6(5),e.Q6J("ngForOf",n)}}function E(t,o){if(1&t&&(e.TgZ(0,"mat-option",13),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(e.lcZ(2,2,n))}}function J(t,o){1&t&&(e.TgZ(0,"span"),e._uU(1,"Save"),e.qZA())}function N(t,o){1&t&&e._UZ(0,"mat-progress-spinner",14),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}let C=(()=>{class t{constructor(n,r){this._formBuilder=n,this._store=r,this.LEVELS=Object.values(p),this.faculties$=this._store.pipe((0,m.Ys)(Z.f.FACULTY),(0,A.U)(s=>new T.l(s).toArray())),this.form=this._formBuilder.group({title:["",i.kI.required],level:["",i.kI.required],completedDate:["",i.kI.required],files:[""],faculties:["",i.kI.required]})}ngOnInit(){}save(){var n=this;return(0,y.Z)(function*(){if(n.form.invalid)return;const r={...n.form.value};n.faculties$.pipe((0,U.q)(1)).subscribe(s=>{n._store.dispatch(d.S.RESEARCH.ADD({research:{...r,faculties:s.filter(l=>r.faculties.includes(l.id))}}))})})()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(i.qu),e.Y36(m.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["research-add"]],decls:35,vars:7,consts:[["mat-dialog-title",""],[1,"grid","grid-cols-1","md:grid-cols-2","gap-x-5",3,"formGroup"],[4,"ngIf"],["matInput","","formControlName","title"],["formControlName","level"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","date","formControlName","completedDate"],[1,"md:col-span-2"],["matInput","","formControlName","files"],["id","close","mat-button","","mat-dialog-close","",1,"ml-auto"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[3,"diameter","mode",4,"ngIf"],["multiple","","formControlName","faculties"],[3,"value"],[3,"diameter","mode"]],template:function(n,r){1&n&&(e.TgZ(0,"h2",0),e._uU(1,"Add Research"),e.qZA(),e.TgZ(2,"mat-dialog-content")(3,"form",1),e.YNc(4,b,8,1,"ng-container",2),e.ALo(5,"async"),e.TgZ(6,"mat-form-field")(7,"mat-label"),e._uU(8,"Title"),e.qZA(),e._UZ(9,"input",3),e.TgZ(10,"mat-error"),e._uU(11,"Title is required."),e.qZA()(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Level"),e.qZA(),e.TgZ(15,"mat-select",4),e.YNc(16,E,3,4,"mat-option",5),e.qZA(),e.TgZ(17,"mat-error"),e._uU(18,"Level is required."),e.qZA()(),e.TgZ(19,"mat-form-field")(20,"mat-label"),e._uU(21,"Completed Date"),e.qZA(),e._UZ(22,"input",6),e.TgZ(23,"mat-error"),e._uU(24,"Completed Date is required."),e.qZA()(),e.TgZ(25,"mat-form-field",7)(26,"mat-label"),e._uU(27,"File Links(Separated by comma)"),e.qZA(),e._UZ(28,"textarea",8),e.qZA()()(),e.TgZ(29,"mat-dialog-actions")(30,"button",9),e._uU(31," Cancel "),e.qZA(),e.TgZ(32,"button",10),e.NdJ("click",function(){return r.save()}),e.YNc(33,J,2,0,"span",2),e.YNc(34,N,1,2,"mat-progress-spinner",11),e.qZA()()),2&n&&(e.xp6(3),e.Q6J("formGroup",r.form),e.xp6(1),e.Q6J("ngIf",e.lcZ(5,5,r.faculties$)),e.xp6(12),e.Q6J("ngForOf",r.LEVELS),e.xp6(17),e.Q6J("ngIf",!r.form.disabled),e.xp6(1),e.Q6J("ngIf",r.form.disabled))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,c.sg,c.O5,i.sg,i.u,f.TO,f.KE,f.hX,F.Nt,I.gD,O.ey,v.lW,L.Ou,u.ZT,u.uh,u.xY,u.H8,x.L,c.Ov,c.rS]}),t})();var Y=a(7392),g=a(8255);function S(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.ALo(3,"to_full_name"),e.qZA(),e.BQk()),2&t){const n=o.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,1,n)," ")}}function B(t,o){if(1&t&&(e.ynx(0),e.YNc(1,S,4,3,"ng-container",14),e.BQk()),2&t){const n=e.oxw().$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.faculties)("ngForTrackBy",r.trackByFn)}}function D(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(n);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.remove(s))}),e._uU(1," Remove "),e.qZA()}}function M(t,o){if(1&t&&(e.TgZ(0,"tr",5)(1,"td"),e.YNc(2,B,2,2,"ng-container",6),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"titlecase"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td",7)(13,"div",8)(14,"button",9),e._UZ(15,"mat-icon",10),e.qZA(),e.TgZ(16,"mat-menu",11,12),e.YNc(18,D,2,0,"button",13),e.qZA()()()()),2&t){const n=o.$implicit,r=e.MAs(17),s=e.oxw();let l;e.xp6(2),e.Q6J("ngIf",n.faculties),e.xp6(2),e.Oqu(n.title),e.xp6(2),e.Oqu(e.lcZ(7,8,n.level)),e.xp6(3),e.Oqu(null!==(l=n.completedDate)&&void 0!==l?l:"N/A"),e.xp6(2),e.Oqu(n.files),e.xp6(3),e.Q6J("matMenuTriggerFor",r),e.xp6(2),e.Q6J("xPosition","before"),e.xp6(2),e.Q6J("ngIf",s.isAdmin)}}let _=(()=>{class t{constructor(n){this._store=n,this.researches=[],this.isAdmin="null"!==localStorage.getItem("accessToken")}ngOnInit(){}remove(n){this._store.dispatch(d.S.RESEARCH.REMOVE({id:n.id}))}trackByFn(n,r){return r.id||n}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["research-list"]],inputs:{researches:"researches"},decls:18,vars:2,consts:[[1,"flex","flex-col","flex-auto","p-3","-mt-3","overflow-hidden","bg-card","md:px-10"],[1,"flex","flex-col","flex-auto","overflow-x-auto","overflow-y-auto","border-t","border-t-gray-200"],[1,"overflow-y-visible","min-w-240"],[1,"text-left"],["class","text-center border-t h-[45px] border-gray-100 hover:bg-gray-50",4,"ngFor","ngForTrackBy","ngForOf"],[1,"text-center","border-t","h-[45px]","border-gray-100","hover:bg-gray-50"],[4,"ngIf"],[1,"text-center","rounded-r-2xl"],[1,"flex"],[1,"flex","items-center","mx-auto","hover:underline",3,"matMenuTriggerFor"],["svgIcon","feather:more-horizontal",1,"ml-3"],[3,"xPosition"],["tableMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-menu-item","",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e._uU(6,"Faculties"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Title"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Level"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Completed Date"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Files"),e.qZA(),e._UZ(15,"th"),e.qZA()(),e.TgZ(16,"tbody"),e.YNc(17,M,19,10,"tr",4),e.qZA()()()()),2&n&&(e.xp6(17),e.Q6J("ngForTrackBy",r.trackByFn)("ngForOf",r.researches))},dependencies:[c.sg,c.O5,Y.Hw,g.VK,g.OP,g.p6,x.L,c.rS]}),t})();var $=a(2671),k=a(6806),H=a(2235);function G(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",5)(1,"button",6),e.NdJ("click",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.add())}),e._uU(2," Add Research "),e.qZA()()}}function P(t,o){if(1&t&&(e.ynx(0),e._UZ(1,"research-list",7),e.BQk()),2&t){const n=o.ngIf;e.xp6(1),e.Q6J("researches",n)}}const j=[$.m,k.Bz.forChild([{path:"",component:(()=>{class t{constructor(n,r){this._matDialog=n,this._store=r,this.isAdmin="null"!==localStorage.getItem("accessToken"),this.researches$=this._store.pipe((0,m.Ys)(Z.f.RESEARCH),(0,A.U)(s=>new T.l(s).toArray()))}ngOnInit(){this._store.dispatch(d.S.FACULTY.LOAD()),this._store.dispatch(d.S.RESEARCH.LOAD())}add(){this._matDialog.open(C,{panelClass:["w-1/2","drop-shadow-sm","rounded-none"]})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.uw),e.Y36(m.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["research"]],decls:6,vars:4,consts:[[1,"w-full"],["title","Researches","subtitle","List of your researches ","icon","mat_outline:folder"],[1,"flex","items-center","py-2","bg-white","border-b"],["class","ml-auto",4,"ngIf"],[4,"ngIf"],[1,"ml-auto"],["mat-button","",1,"mr-3","text-white","bg-isat-blue",3,"click"],[3,"researches"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"app-header",1),e.TgZ(2,"div",2),e.YNc(3,G,3,0,"div",3),e.qZA(),e.YNc(4,P,2,1,"ng-container",4),e.ALo(5,"async"),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngIf",r.isAdmin),e.xp6(1),e.Q6J("ngIf",e.lcZ(5,2,r.researches$)))},dependencies:[H.P,c.O5,v.lW,_,c.Ov]}),t})()}])];let w=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[j]}),t})()}}]);
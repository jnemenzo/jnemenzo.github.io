"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[127],{2127:(V,y,i)=>{i.r(y),i.d(y,{FacultiesModule:()=>$});var Z=i(6806),t=i(4650),v=i(5861),r=i(4006),C=i(4485),f=i(3036),d=i(9653),m=i(6895),F=i(7392),p=i(9549),U=i(4144),A=i(4859),I=i(1572),u=i(5412);function b(o,n){1&o&&t._UZ(0,"mat-icon",19),2&o&&t.Q6J("svgIcon","heroicons_solid:eye")}function w(o,n){1&o&&t._UZ(0,"mat-icon",19),2&o&&t.Q6J("svgIcon","heroicons_solid:eye-off")}function q(o,n){1&o&&t._UZ(0,"mat-icon",19),2&o&&t.Q6J("svgIcon","heroicons_solid:eye")}function J(o,n){1&o&&t._UZ(0,"mat-icon",19),2&o&&t.Q6J("svgIcon","heroicons_solid:eye-off")}function N(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Password confirmation is required "),t.qZA())}function Q(o,n){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Passwords must match "),t.qZA())}function Y(o,n){1&o&&(t.TgZ(0,"span"),t._uU(1,"Save"),t.qZA())}function M(o,n){1&o&&t._UZ(0,"mat-progress-spinner",20),2&o&&t.Q6J("diameter",24)("mode","indeterminate")}let T=(()=>{class o{constructor(e,a){this._formBuilder=e,this._store=a,this.facultyForm=this._formBuilder.group({first_name:["",r.kI.required],last_name:["",r.kI.required],middle_name:["",r.kI.required],email:["",[r.kI.email,r.kI.required,r.kI.minLength(6)]],position:["",r.kI.required],password:["",[r.kI.required,r.kI.minLength(6)]],confirmPassword:["",r.kI.required]},{validators:C.a.mustMatch("password","confirmPassword")})}ngOnInit(){}save(){var e=this;return(0,v.Z)(function*(){if(e.facultyForm.invalid)return;e.facultyForm.disable();let a={...e.facultyForm.value,createdAt:Date.now(),updatedAt:Date.now()};delete a.confirmPassword,e._store.dispatch(f.S.FACULTY.ADD({faculty:a})),e.facultyForm.enable()})()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(d.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["faculty-add"]],decls:62,vars:11,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-x-5"],["matInput","","formControlName","first_name"],["matInput","","formControlName","middle_name"],["matInput","","formControlName","last_name"],["matInput","","formControlName","position"],["type","email","matInput","","formControlName","email"],[1,"w-full"],["id","password","matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["id","password-confirm","matInput","","type","password",3,"formControlName"],["confirmPasswordField",""],[4,"ngIf"],["id","close","mat-button","","mat-dialog-close","",1,"ml-auto"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[3,"diameter","mode",4,"ngIf"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode"]],template:function(e,a){if(1&e){const s=t.EpF();t.TgZ(0,"h2",0),t._uU(1,"Add Faculty"),t.qZA(),t.TgZ(2,"mat-dialog-content",1)(3,"div",2)(4,"mat-form-field")(5,"mat-label"),t._uU(6,"First name"),t.qZA(),t._UZ(7,"input",3),t.TgZ(8,"mat-error"),t._uU(9,"First name is required."),t.qZA()(),t.TgZ(10,"mat-form-field")(11,"mat-label"),t._uU(12,"Middle name"),t.qZA(),t._UZ(13,"input",4),t.TgZ(14,"mat-error"),t._uU(15,"Middle name is required."),t.qZA()(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Last name"),t.qZA(),t._UZ(19,"input",5),t.TgZ(20,"mat-error"),t._uU(21,"Last name is required."),t.qZA()(),t.TgZ(22,"mat-form-field")(23,"mat-label"),t._uU(24,"Position"),t.qZA(),t._UZ(25,"input",6),t.TgZ(26,"mat-error"),t._uU(27,"Position is required."),t.qZA()(),t._UZ(28,"div")(29,"div"),t.TgZ(30,"mat-form-field")(31,"mat-label"),t._uU(32,"Email"),t.qZA(),t._UZ(33,"input",7),t.TgZ(34,"mat-error"),t._uU(35,"Email is required and should be a valid email format."),t.qZA()(),t.TgZ(36,"mat-form-field",8)(37,"mat-label"),t._uU(38,"Password"),t.qZA(),t._UZ(39,"input",9,10),t.TgZ(41,"button",11),t.NdJ("click",function(){t.CHM(s);const c=t.MAs(40);return t.KtG(c.type="password"===c.type?"text":"password")}),t.YNc(42,b,1,1,"mat-icon",12),t.YNc(43,w,1,1,"mat-icon",12),t.qZA(),t.TgZ(44,"mat-error"),t._uU(45," Password is required and at least 6 characters long. "),t.qZA()(),t.TgZ(46,"mat-form-field",8)(47,"mat-label"),t._uU(48,"Password (Confirm)"),t.qZA(),t._UZ(49,"input",13,14),t.TgZ(51,"button",11),t.NdJ("click",function(){t.CHM(s);const c=t.MAs(50);return t.KtG(c.type="password"===c.type?"text":"password")}),t.YNc(52,q,1,1,"mat-icon",12),t.YNc(53,J,1,1,"mat-icon",12),t.qZA(),t.YNc(54,N,2,0,"mat-error",15),t.YNc(55,Q,2,0,"mat-error",15),t.qZA()()(),t.TgZ(56,"mat-dialog-actions")(57,"button",16),t._uU(58," Cancel "),t.qZA(),t.TgZ(59,"button",17),t.NdJ("click",function(){return a.save()}),t.YNc(60,Y,2,0,"span",15),t.YNc(61,M,1,2,"mat-progress-spinner",18),t.qZA()()}if(2&e){const s=t.MAs(40),l=t.MAs(50);t.xp6(2),t.Q6J("formGroup",a.facultyForm),t.xp6(37),t.Q6J("formControlName","password"),t.xp6(3),t.Q6J("ngIf","password"===s.type),t.xp6(1),t.Q6J("ngIf","text"===s.type),t.xp6(6),t.Q6J("formControlName","confirmPassword"),t.xp6(3),t.Q6J("ngIf","password"===l.type),t.xp6(1),t.Q6J("ngIf","text"===l.type),t.xp6(1),t.Q6J("ngIf",a.facultyForm.get("confirmPassword").hasError("required")),t.xp6(1),t.Q6J("ngIf",a.facultyForm.get("confirmPassword").hasError("mustMatch")),t.xp6(5),t.Q6J("ngIf",!a.facultyForm.disabled),t.xp6(1),t.Q6J("ngIf",a.facultyForm.disabled)}},dependencies:[r.Fj,r.JJ,r.JL,m.O5,r.sg,r.u,F.Hw,p.TO,p.KE,p.hX,p.R9,U.Nt,A.lW,I.Ou,u.ZT,u.uh,u.xY,u.H8]}),o})();var O=i(101),g=i(8255),P=i(266);function k(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,l=t.oxw();return t.KtG(l.remove(s))}),t._uU(1," Remove "),t.qZA()}}function E(o,n){if(1&o&&(t.TgZ(0,"tr",5)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",6)(8,"div",7)(9,"button",8),t._UZ(10,"mat-icon",9),t.qZA(),t.TgZ(11,"mat-menu",10,11)(13,"button",12),t._uU(14," View Faculty "),t.qZA(),t.YNc(15,k,2,0,"button",13),t.qZA()()()()),2&o){const e=n.$implicit,a=t.MAs(12),s=t.oxw();t.xp6(2),t.lnq(" ",e.first_name," ",e.middle_name," ",e.last_name," "),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(e.position),t.xp6(3),t.Q6J("matMenuTriggerFor",a),t.xp6(2),t.Q6J("xPosition","before"),t.xp6(2),t.Q6J("routerLink","/profile/"+e.id),t.xp6(2),t.Q6J("ngIf",s.isAdmin)}}let _=(()=>{class o{constructor(e){this._store=e,this.isAdmin="null"!==localStorage.getItem("accessToken"),this.faculties=[]}ngOnInit(){}remove(e){this._store.dispatch(f.S.FACULTY.REMOVE({id:e.id}))}trackByFn(e,a){return a.id||e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["faculty-list"]],inputs:{faculties:"faculties"},decls:14,vars:2,consts:[[1,"flex","flex-col","flex-auto","p-3","-mt-3","overflow-hidden","bg-card","md:px-10"],[1,"flex","flex-col","flex-auto","overflow-x-auto","overflow-y-auto","border-t","border-t-gray-200"],[1,"overflow-y-visible","min-w-240"],[1,"text-left"],["class","text-center border-t h-[45px] border-gray-100 hover:bg-gray-50",4,"ngFor","ngForTrackBy","ngForOf"],[1,"text-center","border-t","h-[45px]","border-gray-100","hover:bg-gray-50"],[1,"text-center","rounded-r-2xl"],[1,"flex"],["matTooltip","Change Status",1,"flex","items-center","mx-auto","hover:underline",3,"matMenuTriggerFor"],["svgIcon","feather:more-horizontal",1,"ml-3"],[3,"xPosition"],["tableMenu","matMenu"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),t._uU(6,"Full Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Email"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Position"),t.qZA(),t._UZ(11,"th"),t.qZA()(),t.TgZ(12,"tbody"),t.YNc(13,E,16,9,"tr",4),t.qZA()()()()),2&e&&(t.xp6(13),t.Q6J("ngForTrackBy",a.trackByFn)("ngForOf",a.faculties))},dependencies:[Z.rH,m.sg,m.O5,F.Hw,g.VK,g.OP,g.p6,P.gM],data:{animation:[...O.x]}}),o})();var D=i(9853),B=i(1665),S=i(4004),G=i(2235);function H(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.addFaculty())}),t._uU(1," Add Faculty "),t.qZA()}}function K(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"faculty-list",7),t.BQk()),2&o){const e=n.ngIf;t.xp6(1),t.Q6J("faculties",e)}}let x=(()=>{class o{constructor(e,a){this._matDialog=e,this._store=a,this.isAdmin="null"!==localStorage.getItem("accessToken"),this.faculties$=this._store.pipe((0,d.Ys)(B.f.FACULTY),(0,S.U)(s=>new D.l(s).toArray()))}ngOnInit(){this._store.dispatch(f.S.FACULTY.LOAD())}addFaculty(){this._matDialog.open(T,{panelClass:["w-1/2","drop-shadow-sm","rounded-none"]})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.uw),t.Y36(d.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["faculties"]],decls:7,vars:4,consts:[[1,"w-full"],["title","Faculties","subtitle","List of Registered Faculties ","icon","mat_outline:person_pin"],[1,"flex","items-center","py-2","bg-white","border-b"],[1,"ml-auto"],["class","mr-3 text-white bg-isat-blue","mat-button","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-button","",1,"mr-3","text-white","bg-isat-blue",3,"click"],[3,"faculties"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-header",1),t.TgZ(2,"div",2)(3,"div",3),t.YNc(4,H,2,0,"button",4),t.qZA()(),t.YNc(5,K,2,1,"ng-container",5),t.ALo(6,"async"),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",a.isAdmin),t.xp6(1),t.Q6J("ngIf",t.lcZ(6,2,a.faculties$)))},dependencies:[G.P,m.O5,A.lW,_,m.Ov]}),o})();const z=[i(2671).m,Z.Bz.forChild([{path:"",component:x}])];let $=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[z]}),o})()}}]);
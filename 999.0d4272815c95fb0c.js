"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[999],{1999:(P,A,a)=>{a.r(A),a.d(A,{TrainingAndSeminarsModule:()=>K});var I=a(5861),o=a(4006),l=a(9653),u=a(3036),d=(()=>{return(t=d||(d={})).LOCAL="local",t.INTERNATIONAL="international",d;var t})(),T=a(1665),Z=a(4004),q=a(5698),v=a(9853),n=a(4650),y=a(9435),s=a(6895),g=a(9549),C=a(4144),N=a(4385),O=a(3238),S=a(4859),L=a(1572),c=a(5412),_=a(741);function b(t,i){if(1&t&&(n.TgZ(0,"mat-option",17),n._uU(1),n.ALo(2,"to_full_name"),n.qZA()),2&t){const e=i.$implicit;n.Q6J("value",e.id),n.xp6(1),n.Oqu(n.lcZ(2,2,e))}}function F(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"mat-form-field")(2,"mat-label"),n._uU(3,"Faculties Involved"),n.qZA(),n.TgZ(4,"mat-select",16),n.YNc(5,b,3,4,"mat-option",7),n.qZA(),n.TgZ(6,"mat-error"),n._uU(7,"Faculties are required."),n.qZA()(),n.BQk()),2&t){const e=i.ngIf;n.xp6(5),n.Q6J("ngForOf",e)}}function D(t,i){if(1&t&&(n.TgZ(0,"mat-option",17),n._uU(1),n.ALo(2,"titlecase"),n.qZA()),2&t){const e=i.$implicit;n.Q6J("value",e),n.xp6(1),n.Oqu(n.lcZ(2,2,e))}}function J(t,i){1&t&&(n.TgZ(0,"span"),n._uU(1,"Save"),n.qZA())}function Y(t,i){1&t&&n._UZ(0,"mat-progress-spinner",18),2&t&&n.Q6J("diameter",24)("mode","indeterminate")}let x=(()=>{class t{constructor(e,r){this._formBuilder=e,this._store=r,this.LEVELS=Object.values(d),this.faculties$=this._store.pipe((0,l.Ys)(T.f.FACULTY),(0,Z.U)(m=>new v.l(m).toArray())),this.form=this._formBuilder.group({title:["",o.kI.required],involvement:["",o.kI.required],description:["",o.kI.required],level:[d.LOCAL,o.kI.required],agency:["",o.kI.required],startDate:["",o.kI.required],endDate:["",o.kI.required],faculties:["",o.kI.required],files:[""]})}ngOnInit(){}save(){var e=this;return(0,I.Z)(function*(){if(e.form.invalid)return;const r={...e.form.value};e.faculties$.pipe((0,q.q)(1)).subscribe(m=>{e._store.dispatch(u.S.TRAINING_AND_SEMINARS.ADD({trainingAndSeminar:{...r,faculties:m.filter(f=>r.faculties.includes(f.id))}}))})})()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(o.qu),n.Y36(l.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["training-and-seminars-add"]],decls:59,vars:7,consts:[["mat-dialog-title",""],[1,"grid","grid-cols-1","md:grid-cols-2","gap-x-5",3,"formGroup"],[4,"ngIf"],["matInput","","formControlName","title"],["matInput","","formControlName","involvement"],["matInput","","formControlName","description","autoSize",""],["formControlName","level"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","agency"],["type","date","matInput","","formControlName","startDate"],["type","date","matInput","","formControlName","endDate"],[1,"md:col-span-2"],["matInput","","formControlName","files"],["id","close","mat-button","","mat-dialog-close","",1,"ml-auto"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[3,"diameter","mode",4,"ngIf"],["multiple","","formControlName","faculties"],[3,"value"],[3,"diameter","mode"]],template:function(e,r){1&e&&(n.TgZ(0,"h2",0),n._uU(1,"Add Training And Seminar"),n.qZA(),n.TgZ(2,"mat-dialog-content")(3,"form",1),n.YNc(4,F,8,1,"ng-container",2),n.ALo(5,"async"),n.TgZ(6,"mat-form-field")(7,"mat-label"),n._uU(8,"Title "),n.qZA(),n._UZ(9,"input",3),n.TgZ(10,"mat-error"),n._uU(11,"Title is required."),n.qZA()(),n.TgZ(12,"mat-form-field")(13,"mat-label"),n._uU(14,"Involvement "),n.qZA(),n._UZ(15,"input",4),n.TgZ(16,"mat-error"),n._uU(17,"Involvement is required."),n.qZA()(),n.TgZ(18,"mat-form-field")(19,"mat-label"),n._uU(20,"Description "),n.qZA(),n._UZ(21,"textarea",5),n.TgZ(22,"mat-error"),n._uU(23,"Description is required."),n.qZA()(),n.TgZ(24,"mat-form-field")(25,"mat-label"),n._uU(26,"Level "),n.qZA(),n.TgZ(27,"mat-select",6),n.YNc(28,D,3,4,"mat-option",7),n.qZA(),n.TgZ(29,"mat-error"),n._uU(30,"Level is required."),n.qZA()(),n.TgZ(31,"mat-form-field")(32,"mat-label"),n._uU(33,"Agency "),n.qZA(),n._UZ(34,"input",8),n.TgZ(35,"mat-error"),n._uU(36,"Agency is required."),n.qZA()(),n.TgZ(37,"mat-form-field")(38,"mat-label"),n._uU(39,"Start Date "),n.qZA(),n._UZ(40,"input",9),n.TgZ(41,"mat-error"),n._uU(42,"Start Date is required."),n.qZA()(),n.TgZ(43,"mat-form-field")(44,"mat-label"),n._uU(45,"End Date "),n.qZA(),n._UZ(46,"input",10),n.TgZ(47,"mat-error"),n._uU(48,"End Date is required."),n.qZA()(),n.TgZ(49,"mat-form-field",11)(50,"mat-label"),n._uU(51,"File Links(Separated by comma)"),n.qZA(),n._UZ(52,"textarea",12),n.qZA()()(),n.TgZ(53,"mat-dialog-actions")(54,"button",13),n._uU(55," Cancel "),n.qZA(),n.TgZ(56,"button",14),n.NdJ("click",function(){return r.save()}),n.YNc(57,J,2,0,"span",2),n.YNc(58,Y,1,2,"mat-progress-spinner",15),n.qZA()()),2&e&&(n.xp6(3),n.Q6J("formGroup",r.form),n.xp6(1),n.Q6J("ngIf",n.lcZ(5,5,r.faculties$)),n.xp6(24),n.Q6J("ngForOf",r.LEVELS),n.xp6(29),n.Q6J("ngIf",!r.form.disabled),n.xp6(1),n.Q6J("ngIf",r.form.disabled))},dependencies:[y.c,o._Y,o.Fj,o.JJ,o.JL,s.sg,s.O5,o.sg,o.u,g.TO,g.KE,g.hX,C.Nt,N.gD,O.ey,S.lW,L.Ou,c.ZT,c.uh,c.xY,c.H8,_.L,s.Ov,s.rS]}),t})();var E=a(2235),Q=a(7392),p=a(8255);function M(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"to_full_name"),n.qZA(),n.BQk()),2&t){const e=i.$implicit;n.xp6(2),n.hij(" ",n.lcZ(3,1,e)," ")}}function k(t,i){if(1&t&&(n.ynx(0),n.YNc(1,M,4,3,"ng-container",14),n.BQk()),2&t){const e=n.oxw().$implicit,r=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.faculties)("ngForTrackBy",r.trackByFn)}}function B(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){n.CHM(e);const m=n.oxw().$implicit,f=n.oxw();return n.KtG(f.remove(m))}),n._uU(1," Remove "),n.qZA()}}function R(t,i){if(1&t&&(n.TgZ(0,"tr",5)(1,"td"),n.YNc(2,k,2,2,"ng-container",6),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n._uU(10),n.ALo(11,"titlecase"),n.qZA(),n.TgZ(12,"td"),n._uU(13),n.qZA(),n.TgZ(14,"td"),n._uU(15),n.qZA(),n.TgZ(16,"td"),n._uU(17),n.qZA(),n.TgZ(18,"td"),n._uU(19),n.qZA(),n.TgZ(20,"td",7)(21,"div",8)(22,"button",9),n._UZ(23,"mat-icon",10),n.qZA(),n.TgZ(24,"mat-menu",11,12),n.YNc(26,B,2,0,"button",13),n.qZA()()()()),2&t){const e=i.$implicit,r=n.MAs(25),m=n.oxw();n.xp6(2),n.Q6J("ngIf",e.faculties),n.xp6(2),n.Oqu(e.title),n.xp6(2),n.Oqu(e.involvement),n.xp6(2),n.Oqu(e.description),n.xp6(2),n.Oqu(n.lcZ(11,12,e.level)),n.xp6(3),n.Oqu(e.agency),n.xp6(2),n.Oqu(e.startDate),n.xp6(2),n.Oqu(e.endDate),n.xp6(2),n.Oqu(e.files),n.xp6(3),n.Q6J("matMenuTriggerFor",r),n.xp6(2),n.Q6J("xPosition","before"),n.xp6(2),n.Q6J("ngIf",m.isAdmin)}}let h=(()=>{class t{constructor(e){this._store=e,this.trainingAndSeminars=[],this.isAdmin="null"!==localStorage.getItem("accessToken")}ngOnInit(){}remove(e){this._store.dispatch(u.S.TRAINING_AND_SEMINARS.REMOVE({id:e.id}))}trackByFn(e,r){return r.id||e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(l.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["training-and-seminars-list"]],inputs:{trainingAndSeminars:"trainingAndSeminars"},decls:26,vars:2,consts:[[1,"flex","flex-col","flex-auto","p-3","-mt-3","overflow-hidden","bg-card","md:px-10"],[1,"flex","flex-col","flex-auto","overflow-x-auto","overflow-y-auto","border-t","border-t-gray-200"],[1,"overflow-y-visible","min-w-240"],[1,"text-left"],["class","text-center border-t h-[45px] border-gray-100 hover:bg-gray-50",4,"ngFor","ngForTrackBy","ngForOf"],[1,"text-center","border-t","h-[45px]","border-gray-100","hover:bg-gray-50"],[4,"ngIf"],[1,"text-center","rounded-r-2xl"],[1,"flex"],[1,"flex","items-center","mx-auto","hover:underline",3,"matMenuTriggerFor"],["svgIcon","feather:more-horizontal",1,"ml-3"],[3,"xPosition"],["tableMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-menu-item","",3,"click"]],template:function(e,r){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),n._uU(6,"Faculty"),n.qZA(),n.TgZ(7,"th"),n._uU(8,"Title"),n.qZA(),n.TgZ(9,"th"),n._uU(10,"Involvement"),n.qZA(),n.TgZ(11,"th"),n._uU(12,"Description"),n.qZA(),n.TgZ(13,"th"),n._uU(14,"Level"),n.qZA(),n.TgZ(15,"th"),n._uU(16,"Agency"),n.qZA(),n.TgZ(17,"th"),n._uU(18,"Start Date"),n.qZA(),n.TgZ(19,"th"),n._uU(20,"End Date"),n.qZA(),n.TgZ(21,"th"),n._uU(22,"Files"),n.qZA(),n._UZ(23,"th"),n.qZA()(),n.TgZ(24,"tbody"),n.YNc(25,R,27,14,"tr",4),n.qZA()()()()),2&e&&(n.xp6(25),n.Q6J("ngForTrackBy",r.trackByFn)("ngForOf",r.trainingAndSeminars))},dependencies:[s.sg,s.O5,Q.Hw,p.VK,p.OP,p.p6,_.L,s.rS]}),t})();function G(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",6),n.NdJ("click",function(){n.CHM(e);const m=n.oxw();return n.KtG(m.add())}),n._uU(1," Add Training and Seminars "),n.qZA()}}function $(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"training-and-seminars-list",7),n.BQk()),2&t){const e=i.ngIf;n.xp6(1),n.Q6J("trainingAndSeminars",e)}}const X=[{path:"",component:(()=>{class t{constructor(e,r){this._matDialog=e,this._store=r,this.isAdmin="null"!==localStorage.getItem("accessToken"),this.trainingAndSeminars$=this._store.pipe((0,l.Ys)(T.f.TRAINING_AND_SEMINARS),(0,Z.U)(m=>new v.l(m).toArray()))}ngOnInit(){this._store.dispatch(u.S.FACULTY.LOAD()),this._store.dispatch(u.S.TRAINING_AND_SEMINARS.LOAD())}add(){this._matDialog.open(x,{panelClass:["w-1/2","drop-shadow-sm","rounded-none"]})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(c.uw),n.Y36(l.yh))},t.\u0275cmp=n.Xpm({type:t,selectors:[["training-and-seminars"]],decls:7,vars:4,consts:[[1,"w-full"],["title","Training & Seminars","subtitle","Your Training & Seminars","icon","mat_outline:airplane_ticket"],[1,"flex","items-center","py-2","bg-white","border-b"],[1,"ml-auto"],["class","mr-3 text-white bg-isat-blue","mat-button","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-button","",1,"mr-3","text-white","bg-isat-blue",3,"click"],[3,"trainingAndSeminars"]],template:function(e,r){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"app-header",1),n.TgZ(2,"div",2)(3,"div",3),n.YNc(4,G,2,0,"button",4),n.qZA()(),n.YNc(5,$,2,1,"ng-container",5),n.ALo(6,"async"),n.qZA()),2&e&&(n.xp6(4),n.Q6J("ngIf",r.isAdmin),n.xp6(1),n.Q6J("ngIf",n.lcZ(6,2,r.trainingAndSeminars$)))},dependencies:[E.P,s.O5,S.lW,h,s.Ov]}),t})()}];var w=a(2671),z=a(6806);const H=[w.m,z.Bz.forChild(X)];let K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[H]}),t})()}}]);